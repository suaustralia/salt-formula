# -*- coding: utf-8 -*-
# vim: ft=yaml
---

{%- set osrelease = salt['grains.get']('osrelease', '') %}
{%- set salt_release_major = salt_release.split('.') | map('int') | list | first %}
{%- if salt_release != "latest" %}
{%-   set onedir = salt['pillar.get']('salt:onedir', True) if (salt_release_major >= 3005) and (salt_release != "archive/") else False %}
{%- else %}
{%-   set onedir = True %}
{%- endif %}
{%- set osmajorrelease = salt['grains.get']('osmajorrelease', osrelease)|string %}
{%- set salt_repo = salt['pillar.get']('salt:repo', 'https://packages.broadcom.com/artifactory') %}
{%- set salt_repo_key_url = salt['pillar.get']('salt:repo_key_url', salt_repo ~ '/api/security/keypair/SaltProjectKey/public') %}

Oracle Linux Server-7:
  pkgrepo_humanname: SaltStack repo for RHEL/CentOS {{ osmajorrelease }}
  pkgrepo: '{{ salt_repo }}/saltproject-rpm/'
  key_url: '{{ salt_repo_key_url }}'
